[
  {
    "id": 1,
    "title": "Fix topology: remove 6 incorrect links from pipelineGraph.js",
    "description": "Remove shadow_engine->orchestrator, shadow_engine->out_pipeline_stage, logbook_json->patterns, snapshot_json->ml_engine, ml_engine->discovery feedback, shadow_engine->discovery feedback links.",
    "acceptance_criteria": [
      "! grep -q \"source: 'shadow_engine', target: 'orchestrator'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "! grep -q \"source: 'shadow_engine', target: 'out_pipeline_stage'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "! grep -q \"source: 'logbook_json', target: 'patterns'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "! grep -q \"source: 'snapshot_json', target: 'ml_engine'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js"
    ],
    "passes": true,
    "blocked_by": []
  },
  {
    "id": 2,
    "title": "Fix topology: add 6 missing links to pipelineGraph.js",
    "description": "Add engine->ml_engine, engine->patterns, discovery->presence, discovery->shadow_engine, discovery->activity_monitor, intelligence->orchestrator links.",
    "acceptance_criteria": [
      "grep -q \"source: 'engine', target: 'ml_engine'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"source: 'engine', target: 'patterns'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"source: 'discovery', target: 'presence'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"source: 'discovery', target: 'shadow_engine'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"source: 'intelligence', target: 'orchestrator'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js"
    ],
    "passes": true,
    "blocked_by": [1]
  },
  {
    "id": 3,
    "title": "Rework output column: replace 14 nodes with 7 OODA-aligned outputs",
    "description": "Replace OUTPUTS array with 7 nodes: out_observe, out_understand, out_decide, out_capabilities, out_ml_models, out_curation, out_validation. Update all links targeting old output nodes.",
    "acceptance_criteria": [
      "grep -q \"out_observe\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"out_understand\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"out_decide\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "! grep -q \"out_auto_suggestions\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "! grep -q \"out_shadow_preds\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js"
    ],
    "passes": true,
    "blocked_by": [1, 2]
  },
  {
    "id": 4,
    "title": "Fix NODE_DETAIL descriptions and ACTION_CONDITIONS routes",
    "description": "Correct logbook_json.writes, orchestrator.reads, and all other NODE_DETAIL entries. Fix ACTION_CONDITIONS hrefs from old routes to OODA routes.",
    "acceptance_criteria": [
      "grep -q \"Engine + Patterns\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "! grep -q \"href: '#/shadow'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "! grep -q \"href: '#/automations'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"#/understand\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js",
      "grep -q \"#/decide\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/lib/pipelineGraph.js"
    ],
    "passes": true,
    "blocked_by": [3]
  },
  {
    "id": 5,
    "title": "Fix metrics: freshness categoryMap and remove dead sparklines",
    "description": "Fix getNodeFreshness categoryMap (patterns key, orchestrator->automation_suggestions, remove dead entries). Remove non-existent sparkline data paths from getNodeSparklineData.",
    "acceptance_criteria": [
      "grep -q \"patterns: 'patterns'\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineSankey.jsx",
      "! grep -q \"pattern_recognition\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineSankey.jsx",
      "! grep -q \"activity_labeler\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineSankey.jsx",
      "! grep -q \"r2_history\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineSankey.jsx"
    ],
    "passes": true,
    "blocked_by": [3]
  },
  {
    "id": 6,
    "title": "Make output nodes clickable: navigate to OODA pages on desktop",
    "description": "Update handleNodeClick in PipelineSankey.jsx so column 4 nodes navigate to their page route instead of trace-back only.",
    "acceptance_criteria": [
      "grep -q \"node.page\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineSankey.jsx"
    ],
    "passes": true,
    "blocked_by": [3, 5]
  },
  {
    "id": 7,
    "title": "Update PipelineStepper: add click navigation and fix status colors",
    "description": "Make expanded node rows clickable (navigate to detail/module or OODA page). Fix status LED colors to use real module status instead of hardcoded green.",
    "acceptance_criteria": [
      "grep -q \"#/detail/module\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineStepper.jsx",
      "grep -q \"node.page\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineStepper.jsx",
      "grep -q \"getModuleStatus\" /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/src/components/PipelineStepper.jsx"
    ],
    "passes": true,
    "blocked_by": [3, 5]
  },
  {
    "id": 8,
    "title": "Build SPA and verify no errors",
    "description": "Run npm run build in spa directory. Verify clean build with no errors.",
    "acceptance_criteria": [
      "cd /home/justin/Documents/projects/ha-aria/aria/dashboard/spa && npm run build 2>&1 | tail -1 | grep -vq 'error'",
      "test -f /home/justin/Documents/projects/ha-aria/aria/dashboard/spa/dist/bundle.js"
    ],
    "passes": true,
    "blocked_by": [4, 5, 6, 7]
  }
]
